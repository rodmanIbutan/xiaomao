{"version":3,"sources":["webpack:///C:/Users/Rodman/project/weimai-wetapp-master/xiaomao_uni/components/message/message.vue?e5eb","webpack:///C:/Users/Rodman/project/weimai-wetapp-master/xiaomao_uni/components/message/message.vue?5d11","webpack:///C:/Users/Rodman/project/weimai-wetapp-master/xiaomao_uni/components/message/message.vue?2112","webpack:///C:/Users/Rodman/project/weimai-wetapp-master/xiaomao_uni/components/message/message.vue?f116","uni-app:///components/message/message.vue","webpack:///C:/Users/Rodman/project/weimai-wetapp-master/xiaomao_uni/components/message/message.vue?2047","webpack:///C:/Users/Rodman/project/weimai-wetapp-master/xiaomao_uni/components/message/message.vue?abb2","uni-app:///main.js","webpack:///C:/Users/Rodman/project/weimai-wetapp-master/xiaomao_uni/pages/subPages/seat/hall.vue?8463","webpack:///C:/Users/Rodman/project/weimai-wetapp-master/xiaomao_uni/pages/subPages/seat/hall.vue?e53b","webpack:///C:/Users/Rodman/project/weimai-wetapp-master/xiaomao_uni/pages/subPages/seat/hall.vue?c238","webpack:///C:/Users/Rodman/project/weimai-wetapp-master/xiaomao_uni/pages/subPages/seat/hall.vue?13a6","uni-app:///pages/subPages/seat/hall.vue","webpack:///C:/Users/Rodman/project/weimai-wetapp-master/xiaomao_uni/pages/subPages/seat/hall.vue?1f00","webpack:///C:/Users/Rodman/project/weimai-wetapp-master/xiaomao_uni/pages/subPages/seat/hall.vue?cf40"],"names":["module","show","that","message","content","icon","visiable","setTimeout","hide","wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","first","height","seat","seats","lineTop","lineHeight","lineArray","columnNumber","selectSeatList","totalMoney","totalMoneyFloat","movie","nm","price","info","startTime","hallId","cinemaDetail","idy","onLoad","uni","url","method","success","resolve","fail","reject","methods","setSeat","yArray","xxA","totalArray","query","onChange","onScale","selectSeat","item","totalMoneyStr","title","duration","mask","remove","cancelSeat","submit","cinemaName","cinemaId","hall","movieName","movieImg","movieId","timesId","time","Vcode","flowNumber","orderId","cinemaData"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAoH;AACpH;AAC2D;AACL;AACa;;;AAGnE;AACkL;AAClL,gBAAgB,yLAAU;AAC1B,EAAE,6EAAM;AACR,EAAE,kFAAM;AACR,EAAE,2FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,sFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAA+qB,CAAgB,6qBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;ACensBA;EACAC;IACA;IACAC;MACAC;QACAC;QACAC;QACAC;MACA;IACA;IACA;MACAC;QACAL;UACAC;YACAG;UACA;QACA;MACA;IACA;EACA;EACAE;IACA;IACAN;MACAC;QACAG;MACA;IACA;EACA;AACA,E;;;;;;;;;;;;AC3CA;AAAA;AAAA;AAAA;AAAg+B,CAAgB,07BAAG,EAAC,C;;;;;;;;;;;ACAp/B;AACA,OAAO,KAAU,EAAE,kBAKd;;;;;;;;;;;;;;;;ACNL;AAGA;AACA;AAHA;AACAG,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,aAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAiH;AACjH;AACwD;AACL;AACa;;;AAGhE;AACqL;AACrL,gBAAgB,yLAAU;AAC1B,EAAE,0EAAM;AACR,EAAE,+EAAM;AACR,EAAE,wFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,mFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAA2rB,CAAgB,0qBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACmE/sB;AACA;AACA;AACA;AACA;AAAA,eACA;EACAC;IACA;MACAC;MAEA;MACAC;MAEA;MACAC;MAEA;MACAC;MAEAC;MACAC;MACAC;MACAC;MAEA;MACAC;MAEAC;MACAC;MAEAC;QACAC;MACA;MAEAC;MAEAC;QACAC;QACAC;MACA;MAEAC;MACAC;IACA;EACA;EACA;AACA;AACA;EAFA;EAGAC;IACA;IACA;IACA;IACA;IACA;IACAL;IACA;MACAA;MACAD;MACAF;MACAM;IACA;IACA;IACA;MACAG;QACAC;QACAC;QACAC;UACAC;QACA;QACAC;UACAC;QACA;MACA;IACA;MACAvC;QACAgB;MACA;MACAhB;IACA;EACA;EACAwC;IACA;AACA;AACA;IACAC;MAAA;MACA;MACA;MACA;QACA;UACAC;QACA;MACA;MACA;MACA;MACA;QACA;QACA;QACA;UACA;YACA;cACA;cACA;gBACA;cACA;gBACA;cACA;YACA;cACA;cACA;YACA;YACA;YACAC;UACA;QACA;QACAC;MACA;;MACA;QACA7B;QACAI;QACAC;MACA;MACA;;MAEA;MACA;MACAyB;MACAA;QACA;QACA;QACA;QACA;QACA;UACA3B;UACAD;QACA;MACA;IACA;IAEA;IACA6B;MAAA;MACA;MACAD;MACAA;QACA;QACA;QACA;QACA;QACA;UACA3B;UACAD;QACA;MACA;IACA;IAEA8B;MAAA;MACA;MACAF;MACAA;QACA;QACA;QACA;QACA;QACA;UACA3B;UACAD;QACA;MACA;IACA;IAEA;IACA+B;MACA;MACA;MACA;MACA;QACA;UACA;UACA;YACA;YACA;YACA;cACAC;cACAA;cACA;cACA;cACA3B;cACA4B;cACA;gBACAA;cACA;YACA;cACA;gBACAjB;kBACAkB;kBACAhD;kBACAiD;kBACAC;gBACA;cACA;gBACAJ;gBACAA;gBACA;gBACA;gBACAlC;gBACAA;gBACAA;gBACAA;gBACAA;gBACA;gBACAO;gBACA4B;cACA;YACA;YACA;cACA7B;cACAC;cACAC;YACA;UACA;QACA;MACA;MACA;QACAR;MACA;IACA;IAEA;IACAuC;MACA;QACA;UACA;UACA;QACA;MACA;MACA;QACAjC;MACA;IACA;IAEA;IACAkC;MACA;MACA;MACA;MACA;MACA;QACA;UACA;YACAX;YACAA;YACA;UACA;QACA;MACA;MACA;QACA;UACA;UACA;QACA;MACA;MACA;MACA;MACA;QACAM;MACA;MACA;QACAnC;QACAM;QACAC;QACAC;MACA;IACA;IAEA;IACAiC;MAAA;MACA;MACA;MACA;MACA;MACA;QACAC;QACA;QACAC;QACA;QACAC;QACA;QACAC;QACA;QACAC;QACA;QACAC;QACAC;QACAC;QACA;QACAtC;QACA;QACAX;QACA;QACAkD;QACA;QACAC;QACA;QACAC;QACA;QACAC;MACA;MACA;MACA;QACAnC;UACAkB;UACAjD;UACAkC;YACA;cACAvB;YACA;YACA;cACAoB;gBACAC;cACA;YACA;UACA;QACA;MACA;QACAD;UACAC;QACA;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;AC5YA;AAAA;AAAA;AAAA;AAAk/B,CAAgB,u7BAAG,EAAC,C;;;;;;;;;;;ACAtgC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/subPages/seat/hall.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./message.vue?vue&type=template&id=dc37dbd8&\"\nvar renderjs\nimport script from \"./message.vue?vue&type=script&lang=js&\"\nexport * from \"./message.vue?vue&type=script&lang=js&\"\nimport style0 from \"./message.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../application/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/message/message.vue\"\nexport default component.exports","export * from \"-!../../../../../application/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../application/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../application/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../application/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../application/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../application/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./message.vue?vue&type=template&id=dc37dbd8&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../application/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../application/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../application/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../application/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../application/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./message.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../application/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../application/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../application/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../application/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../application/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./message.vue?vue&type=script&lang=js&\"","<template>\n    <view>\n        <!-- template对应的原始代码，为保证正常显示，已对其进行隐藏。 -->\n        <block name=\"message\" v-if=\"false\">\n            <view class=\"message-area\" v-if=\"!(message.visiable ? false : true)\">\n                <view class=\"message\">\n                    <view :class=\"'message-icon message-icon-' + message.icon\"></view>\n                    <view class=\"message-content\">{{ message.content }}</view>\n                </view>\n            </view>\n        </block>\n    </view>\n</template>\n\n<script>\nmodule.exports = {\n    show: function (cfg) {\n        var that = this;\n        that.setData({\n            message: {\n                content: cfg.content,\n                icon: cfg.icon,\n                visiable: true\n            }\n        });\n        if (typeof cfg.duration !== 'undefined') {\n            setTimeout(function () {\n                that.setData({\n                    message: {\n                        visiable: false\n                    }\n                });\n            }, cfg.duration);\n        }\n    },\n    hide: function () {\n        var that = this;\n        that.setData({\n            message: {\n                visiable: false\n            }\n        });\n    }\n};\n</script>\n<style>\n@import './message.css';\n</style>\n","import mod from \"-!../../../../../application/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../application/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../application/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../application/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../application/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../application/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../application/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./message.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../application/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../application/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../application/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../application/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../application/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../application/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../application/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./message.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1723696092955\n      var cssReload = require(\"C:/Users/Rodman/application/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/subPages/seat/hall.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./hall.vue?vue&type=template&id=a9d9095e&\"\nvar renderjs\nimport script from \"./hall.vue?vue&type=script&lang=js&\"\nexport * from \"./hall.vue?vue&type=script&lang=js&\"\nimport style0 from \"./hall.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../application/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/subPages/seat/hall.vue\"\nexport default component.exports","export * from \"-!../../../../../../application/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../application/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../application/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../application/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../application/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../application/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./hall.vue?vue&type=template&id=a9d9095e&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../application/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../application/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../application/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../application/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../application/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./hall.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../application/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../application/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../application/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../application/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../application/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./hall.vue?vue&type=script&lang=js&\"","<template>\n    <!-- pages/hall/hall.wxml -->\n    <view class=\"container\">\n        <view class=\"titleContainer\">\n            <text class=\"titleMovie\">{{ movie.nm }}</text>\n            <text class=\"titleText\">{{ info.startTime }}</text>\n            <view class=\"iconArrange\">\n                <view class=\"seatIcon\">\n                    <image src=\"/static/image/icon/seatPre.png\"></image>\n                    <text>可选</text>\n                </view>\n                <view class=\"seatIcon\">\n                    <image src=\"/static/image/icon/seatDone.png\"></image>\n                    <text>已售</text>\n                </view>\n            </view>\n        </view>\n        <movable-area class=\"movable-area\" :scale-area=\"true\">\n            <view class=\"hallTitle\">\n                <text>{{ info.hallId }}号厅 银幕</text>\n            </view>\n            <movable-view\n                id=\"movable-view\"\n                class=\"movable-view\"\n                direction=\"all\"\n                @change=\"onChange\"\n                @scale=\"onScale\"\n                :scale=\"true\"\n                scale-min=\"0.5\"\n                scale-max=\"2\"\n                scale-value=\"1\"\n                :inertia=\"true\"\n            >\n                <view class=\"downContainer\" id=\"seatView\">\n                    <view class=\"seatView\">\n                        <view class=\"x\" v-for=\"(item, idx) in seat\" :key=\"idx\">\n                            <view class=\"y\" v-for=\"(item, idy) in item\" :key=\"idy\">\n                                <image class=\"img\" @tap=\"selectSeat\" :src=\"item.iconSrc\" :data-index=\"idx\" :data-ix=\"idy\"></image>\n                            </view>\n                        </view>\n                    </view>\n                </view>\n            </movable-view>\n            <!-- 行号显示 -->\n            <view class=\"line\" :style=\"'top: ' + lineTop + 'px'\">\n                <text class=\"text\" :style=\"'height:' + lineHeight + 'px; '\" v-for=\"(item, index) in lineArray\" :key=\"index\">{{ item }}</text>\n            </view>\n        </movable-area>\n        <!-- 已选座座位显示 -->\n        <view class=\"ticketCount\">\n            <button :data-index=\"item.index\" :data-x=\"item.xCoord\" @tap=\"cancelSeat\" :data-y=\"item.yCoord\" v-for=\"(item, index) in selectSeatList\" :key=\"index\">\n                <view>{{ item.seatInfo }}</view>\n\n                <image class=\"btnImg\" src=\"/static/image/icon/xxx.png\"></image>\n            </button>\n        </view>\n        <view class=\"submit\" @tap=\"submit\">\n            <text>\n                {{ totalMoney }}\n                <text v-if=\"totalMoney > 0\">￥</text>\n                确认选座\n            </text>\n        </view>\n    </view>\n</template>\n\n<script>\nconst fetch = require('../../../locale/fetch.js');\nconst util = require('../../../utils/util.js');\nconst formatNumber = util.formatNumber;\nconst getRandom = util.getRandom;\nconst app = getApp();\nexport default {\n    data() {\n        return {\n            first: true,\n\n            //只在第一次提示\n            height: '',\n\n            //页面显示座位\n            seat: [],\n\n            //原有座位\n            seats: [],\n\n            lineTop: 0,\n            lineHeight: '',\n            lineArray: [],\n            columnNumber: 0,\n\n            //选择的座位\n            selectSeatList: [],\n\n            totalMoney: '',\n            totalMoneyFloat: 0,\n\n            movie: {\n                nm: ''\n            },\n\n            price: 0,\n\n            info: {\n                startTime: '',\n                hallId: ''\n            },\n\n            cinemaDetail: '',\n            idy: ''\n        };\n    }\n    /**\n     * 生命周期函数--监听页面加载\n     */,\n    onLoad: function (options) {\n        // 页面跳转传参：电影票价格，电影信息\n        const cinema = JSON.parse(options.cinema);\n        const movie = JSON.parse(options.movie);\n        const info = JSON.parse(options.info);\n        const time = new Date(info.startTime);\n        info.startTime = '今天' + (time.getMonth() + 1) + '月' + time.getDate() + '日 ' + time.getHours() + ':' + time.getMinutes() + ':' + time.getSeconds() + '  国语2D';\n        this.setData({\n            info: info,\n            price: info.price,\n            movie: movie,\n            cinemaDetail: cinema\n        });\n        var that = this;\n        new Promise((resolve, reject) => {\n            uni.request({\n                url: app.globalData.url + `/cinema/getSeatByHallId/${info.hallId}?timesId=${info.id}`,\n                method: 'GET',\n                success(res) {\n                    resolve(res.data.data);\n                },\n                fail(err) {\n                    reject(err);\n                }\n            });\n        }).then((seats) => {\n            that.setData({\n                seats: seats\n            });\n            that.setSeat();\n        });\n    },\n    methods: {\n        /**\n         * 生命周期函数--监听页面初次渲染完成\n         */\n        setSeat: function () {\n            let yArray = [];\n            //遍历座位信息中的 yCoord 行数，保存到 yArray 中\n            for (let a = 0; a < this.seats.length; a++) {\n                if (yArray.indexOf(this.seats[a].yCoord) == -1) {\n                    yArray.push(this.seats[a].yCoord);\n                }\n            }\n            //console.log(yArray);\n            let totalArray = [];\n            for (let b = 0; b < yArray.length; b++) {\n                let xxA = [];\n                //遍历地 b 行 的所有座位，进行判断\n                for (let c = 0; c < this.seats.length; c++) {\n                    if (yArray[b] == this.seats[c].yCoord) {\n                        if (this.seats[c].type == 'danren') {\n                            //单人座\n                            if (this.seats[c].status == 'ok') {\n                                this.seats[c].iconSrc = '/static/image/icon/seatPre.png'; //增加座位图片字段\n                            } else {\n                                this.seats[c].iconSrc = '/static/image/icon/seatDone.png';\n                            }\n                        } else if (this.seats[c].type == 'road') {\n                            //过道\n                            this.seats[c].iconSrc = '';\n                        }\n                        this.seats[c].select = false;\n                        xxA.push(this.seats[c]);\n                    }\n                }\n                totalArray.push(xxA); //每一行保存到 totalArray 中\n            }\n            this.setData({\n                seat: totalArray,\n                lineArray: yArray,\n                columnNumber: yArray.length\n            });\n            //console.log(totalArray);\n\n            //与行号显示相关\n            const query = uni.createSelectorQuery();\n            query.select('#seatView').boundingClientRect();\n            query.exec((res) => {\n                //console.log(res);\n                let height = res[0].height;\n                let newHeight = height / yArray.length;\n                let top = res[0].top;\n                this.setData({\n                    lineHeight: newHeight,\n                    lineTop: top\n                });\n            });\n        },\n\n        //movable-view相关\n        onChange(e) {\n            const query = uni.createSelectorQuery();\n            query.select('#seatView').boundingClientRect();\n            query.exec((res) => {\n                //console.log(res);\n                let height = res[0].height;\n                let top = res[0].top;\n                let newHeight = height / this.columnNumber;\n                this.setData({\n                    lineHeight: newHeight,\n                    lineTop: top\n                });\n            });\n        },\n\n        onScale(e) {\n            const query = uni.createSelectorQuery();\n            query.select('#seatView').boundingClientRect();\n            query.exec((res) => {\n                //console.log(res);\n                let height = res[0].height;\n                let top = res[0].top;\n                let newHeight = height / this.columnNumber;\n                this.setData({\n                    lineHeight: newHeight,\n                    lineTop: top\n                });\n            });\n        },\n\n        //选座座位触发\n        selectSeat(e) {\n            let x = e.currentTarget.dataset.index + 1;\n            let y = e.currentTarget.dataset.ix + 1;\n            let totalArray = this.seat;\n            for (var a = 0; a < totalArray.length; a++) {\n                for (var b = 0; b < totalArray[a].length; b++) {\n                    let item = totalArray[a][b];\n                    if (item.yCoord == x && item.xCoord == y && item.status == 'ok' && item.type != 'road') {\n                        let totalMoney = 0;\n                        let totalMoneyStr = '';\n                        if (item.select == true) {\n                            item.select = false;\n                            item.iconSrc = '/static/image/icon/seatPre.png';\n                            let seatInfo = item.yCoord + '排' + item.xCoord + '座';\n                            this.remove(seatInfo);\n                            totalMoney = parseFloat(this.totalMoneyFloat) - parseFloat(this.price);\n                            totalMoneyStr = totalMoney.toString();\n                            if (totalMoney == 0) {\n                                totalMoneyStr = '';\n                            }\n                        } else {\n                            if (this.selectSeatList.length == 6) {\n                                uni.showToast({\n                                    title: '最多选择6个座位',\n                                    icon: 'none',\n                                    duration: 1000,\n                                    mask: true\n                                });\n                            } else {\n                                item.select = true;\n                                item.iconSrc = '/static/image/icon/selectIcon.png';\n                                let seat = {};\n                                let seatInfo = item.yCoord + '排' + item.xCoord + '座';\n                                seat.id = item.id;\n                                seat.seatInfo = seatInfo;\n                                seat.xCoord = item.xCoord;\n                                seat.yCoord = item.yCoord;\n                                seat.index = item.xCoord + item.yCoord;\n                                this.selectSeatList.push(seat);\n                                totalMoney = parseFloat(this.totalMoneyFloat) + parseFloat(this.price);\n                                totalMoneyStr = totalMoney.toString();\n                            }\n                        }\n                        this.setData({\n                            selectSeatList: this.selectSeatList,\n                            totalMoney: totalMoneyStr,\n                            totalMoneyFloat: totalMoney\n                        });\n                    }\n                }\n            }\n            this.setData({\n                seat: totalArray\n            });\n        },\n\n        //移除已选座座位信息\n        remove(val) {\n            for (var a = 0; a < this.selectSeatList.length; a++) {\n                if (this.selectSeatList[a].seatInfo == val) {\n                    this.selectSeatList.splice(a, 1);\n                    break;\n                }\n            }\n            this.setData({\n                selectSeatList: this.selectSeatList\n            });\n        },\n\n        //叉叉符号事件\n        cancelSeat(e) {\n            let index = e.currentTarget.dataset.index;\n            let x = e.currentTarget.dataset.x;\n            let y = e.currentTarget.dataset.y;\n            let totalArray = this.seat;\n            for (var a = 0; a < totalArray.length; a++) {\n                for (var b = 0; b < totalArray[a].length; b++) {\n                    if (totalArray[a][b].xCoord == x && totalArray[a][b].yCoord == y) {\n                        totalArray[a][b].select = false;\n                        totalArray[a][b].iconSrc = '/static/image/icon/seatPre.png';\n                        break;\n                    }\n                }\n            }\n            for (var c = 0; c < this.selectSeatList.length; c++) {\n                if (this.selectSeatList[c].index == index) {\n                    this.selectSeatList.splice(c, 1);\n                    break;\n                }\n            }\n            let totalMoney = this.totalMoneyFloat - parseFloat(this.price);\n            let totalMoneyStr = totalMoney.toString();\n            if (totalMoney == 0) {\n                totalMoneyStr = '';\n            }\n            this.setData({\n                seat: totalArray,\n                selectSeatList: this.selectSeatList,\n                totalMoney: totalMoneyStr,\n                totalMoneyFloat: totalMoney\n            });\n        },\n\n        //无商户号无法对接微信支付，这里模拟一下支付后的流程\n        submit() {\n            //添加订单信息\n            const cinemaDetail = this.cinemaDetail;\n            const movie = this.movie;\n            const info = this.info;\n            const paramsStr = JSON.stringify({\n                cinemaName: cinemaDetail.nm,\n                //电影院名\n                cinemaId: cinemaDetail.id,\n                //电影院ID\n                hall: info.hallId,\n                //大厅\n                movieName: movie.nm,\n                //电影名\n                movieImg: movie.img,\n                //海报\n                movieId: movie.id,\n                timesId: info.id,\n                time: info.startTime,\n                //时间\n                price: this.totalMoney,\n                //票价\n                seat: this.selectSeatList,\n                //座位 seat.seatInfo\n                Vcode: getRandom(100000, 999999),\n                //模拟6位数的验证码\n                flowNumber: getRandom(100000000, 999999999),\n                //模拟9位数的流水号,\n                orderId: getRandom(1000000000, 9999999999),\n                //模拟10位数的订单号,\n                cinemaData: cinemaDetail.cinemaData //影院信息\n            });\n            //只提示一次\n            if (this.first) {\n                uni.showModal({\n                    title: '提示',\n                    content: '此小程序仅为学习，不会产生任何支付',\n                    success: (res) => {\n                        this.setData({\n                            first: false\n                        });\n                        if (res.confirm) {\n                            uni.navigateTo({\n                                url: `/pages/subPages/buy-ticket/buy-ticket?paramsStr=${paramsStr}`\n                            });\n                        }\n                    }\n                });\n            } else {\n                uni.navigateTo({\n                    url: `/pages/subPages/buy-ticket/buy-ticket?paramsStr=${paramsStr}`\n                });\n            }\n        }\n    }\n};\n</script>\n<style>\n@import './hall.css';\n</style>\n","import mod from \"-!../../../../../../application/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../application/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../application/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../application/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../application/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../application/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../application/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./hall.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../application/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../application/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../application/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../application/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../application/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../application/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../application/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./hall.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1723696092507\n      var cssReload = require(\"C:/Users/Rodman/application/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}